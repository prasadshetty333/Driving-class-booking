google.maps.__gjsload__('drawing_impl', function(_){var T8=function(a){if(!a.Fg){var b={};_.dj(b,a.get("options"));null==b.zIndex&&(b.zIndex=a.Tg());delete b.map;a.Fg=a.Kg.CA(b)}},U8=function(a,b,c){a.Fg&&(a.Gg&&a.Hg?(a.Fg.get("map")||a.Fg.bindTo("map",a),a.Kg.Ez(a.Fg,a.Gg,b,c.Fg<a.Hg.Fg)):a.Kg.Ez(a.Fg,b))},Ngb=function(a,b,c){U8(a,b,c);b=a.Fg.get("map");c=a.Fg;c.unbind("map");a.Fg=null;_.Ok(a,"overlaycomplete",{type:a.Kg.kB(),overlay:c});_.Ok(a,a.Kg.hB(),c);_.Il(b,"DMsim");_.Gl(b,147922);a.Gg=null;a.Hg=null;a.Jg=!1},Ogb=function(a){if(!a.Fg){var b=
{};_.dj(b,a.get("options"));delete b.map;a.Fg=new _.em(b)}},W8=function(a){const b=a.get("options");var c=new _.Sk;c.setValues(b);var d=new _.xM(c,a.Gg);c={};_.dj(c,b);c.strokeColor=d.get("strokeColor");c.strokeOpacity=d.get("strokeOpacity");c.strokeWeight=d.get("strokeWeight");null==c.zIndex&&(c.zIndex=a.Jg());delete c.path;delete c.map;const e=new _.Ho(c);e.bindTo("map",a);c.strokeOpacity=d.get("ghostStrokeOpacity");d=new _.XM;d.setValues(c);d.set("anchors",[]);d.bindTo("map",a);var f=null;a.Gg&&
(f={},_.dj(f,b),f.zIndex=c.zIndex,f.paths=new _.Om([e.getPath()]),delete f.map,f=new _.Go(f));a.Fg={polyline:e,uy:f,en:d};V8(a)},X8=function(a){const b=a.get("map"),c=a.Fg.polyline;c.unbind("map");const d=a.Fg.uy;a.Fg.en.unbind("map");a.Fg.en.set("map",null);a.Fg=null;a.set("draggableCursor",a.Hg);c.getPath().getLength()?(a.Gg?(c.set("map",null),d.set("map",b),_.Ok(a,"overlaycomplete",{type:"polygon",overlay:d}),_.Ok(a,"polygoncomplete",d)):(_.Ok(a,"overlaycomplete",{type:"polyline",overlay:c}),_.Ok(a,
"polylinecomplete",c)),_.Il(b,"DMpol"),_.Gl(b,147921),V8(a)):c.set("map",null)},Y8=function(a,b){a.Fg.polyline.getPath().push(b);a.Fg.en.set("anchors",[b])},Pgb=function(a,b){var c=a.Fg.polyline.getPath(),d=c.getLength();if(d){var e=a.get("map");const g=e.get("projection");e=e.__gm.get("zoom");e=a.Kg/(1<<e);const h=g.fromLatLngToPoint(b,a.Vg);if(null===h)return null;b=b.lng();d=c.getAt(d-1);var f=new _.Oj(d.lat(),_.fj(d.lng(),b-180,b+180),!0);f=g.fromLatLngToPoint(f,a.Qg);if(null===f)return null;
if(Math.abs(h.x-f.x)<=e&&Math.abs(h.y-f.y)<=e)return{type:1,latLng:d};c=c.getAt(0);b=new _.Oj(c.lat(),_.fj(c.lng(),b-180,b+180),!0);a=g.fromLatLngToPoint(b,a.Tg);if(null===a)return null;if(Math.abs(h.x-a.x)<=e&&Math.abs(h.y-a.y)<=e)return{type:2,latLng:c}}return null},Qgb=function(a,b){const c=Pgb(a,b);c?(a.Gg||2!=c.type||Y8(a,c.latLng),X8(a)):Y8(a,b)},V8=function(a){a.set("enablePanning",!!a.Fg&&a.get("drawPolysWithDrag")&&!a.get("panWhileDrawing"))},Rgb=function(){let a=0;return function(){return a++}},
Tgb=function(a){var b="click dblclick movestart move moveend panbynow mousewheel mousemove".split(" ");const c=new _.vM(b);let d=!1;_.Qb(b,e=>{_.Ak(c,e,(f,g)=>{const h=f instanceof _.nw,l=h?f.Hh:f;if("click"==e||"dblclick"==e||"mousemove"==e)h?("click"==e&&_.du(f.Hh),"dblclick"==e&&_.du(f.Hh),"mousemove"==e&&_.fw(f)):_.yk(f);if("mousewheel"!=e&&(!d||"mousemove"!=e)){if("mousemove"==e||"move"==e)a.Ng=e,a.Rg=l,a.Pg=g;if(d||!a.get("panWhileDrawing"))"movestart"==e&&(d=!0),"moveend"==e&&(d=!1),f=Date.now(),
"panbynow"==e?a.Ng&&Sgb(a,a.Ng,a.Rg,f,a.Pg):Sgb(a,e,l,f,g)}})});return c},Ugb=function(a){const b=new _.GL(["map","drawingMode","pegmanDragging"],"active",(c,d,e)=>!!c&&!!d&&!e);b.bindTo("map",a);b.bindTo("drawingMode",a);a.Gg.bindTo("active",b);return b},Vgb=function(a){const b=new _.GL(["draggableCursor","panWhileDrawing"],"cursor",(c,d)=>d?null:c);b.bindTo("panWhileDrawing",a);a.Gg.bindTo("draggableCursor",b,"cursor");return b},Sgb=function(a,b,c,d,e){var f=a.get("map");if(a.Fg){var g=f.__gm.get("projectionController"),
h=f.__gm.get("panes");if(g&&h&&(g=e||c,a.Mg&&g)){e=a.Mg.Zk(g);f=_.Mm(e,f.getProjection());g=new _.Pl(g.clientX,g.clientY);(h=(h=a.get("snappingCallback"))&&h(a.Fg.Rg(f,e)))&&(f=h);h=!1;if("click"==b){if(300>=d-a.Og&&a.Jg&&_.gj(a.Jg.x,g.x,a.Kg)&&_.gj(a.Jg.y,g.y,a.Kg))return;a.Jg=g;a.Og=d;h=a.Fg.Lg(f,e)}else"dblclick"==b?h=a.Fg.Sg():"mousemove"==b?h=a.Fg.Mg(f,e):"movestart"==b?h=a.Fg.Pg(f,e):"move"==b?h=a.Fg.Ng(f,e):"moveend"==b&&(h=a.Fg.Og(f,e));h&&c&&_.yk(c)}}},Wgb=function(a){switch(a){case null:return null;
case "Point":return"marker";case "LineString":return"polyline";case "Polygon":return"polygon";default:return null}},ahb=class extends _.Sk{constructor(a,b){function c(f,g,h,l){const n=_.Iu("div",a);_.Qza(n);n.style.lineHeight="0";g={title:g,Rv:h,Ky:l,padding:[4],Jx:!0,xB:!0};h=_.Iu("span");h.style.display="inline-block";const q=f||"hand",t=Xgb[q],u=_.DL(d,h,new _.Pl(0,t),Ygb);u.style.position="relative";const w=_.AN(n,h,f,g);_.Ak(w,"active_changed",()=>{const x=w.get("active")?Zgb[q]:t;_.EL(u,Ygb,
new _.Pl(0,x))});w.bindTo("value",e,"drawingMode")}super();const d=_.lp("drawing");a.setAttribute("role","menubar");const e=this;c(null,"Stop drawing",!0,!b.length);_.Qb(b,(f,g)=>{const h=$gb[f||""];h&&c(f,h,!1,g===b.length-1)})}},Ygb=new _.Rl(16,16),Zgb={hand:144,marker:112,polygon:96,polyline:128,rectangle:48,circle:0},Xgb={hand:80,marker:176,polygon:64,polyline:32,rectangle:16,circle:160},$gb={marker:"Add a marker",polygon:"Draw a shape",polyline:"Draw a line",rectangle:"Draw a rectangle",circle:"Draw a circle"};var Z8=class extends _.Sk{Lg(){return!1}Sg(){return!1}Mg(){return!1}Pg(){return!1}Ng(){return!1}Og(){return!1}};var bhb=class extends Z8{constructor(a,b,c){super();this.Kg=a;this.Qg=b;this.Tg=c}Rg(a,b){T8(this);U8(this,a,b);return{latLng:a,overlay:this.Fg}}active_changed(){if(this.get("active"))this.set("draggableCursor",this.Qg),this.set("draggingCursor","");else{const a=this.Fg;a&&(a.unbind("map"),a.set("map",null),this.Fg=null);this.Hg=this.Gg=null;this.Jg=!1}}Lg(a,b){this.Gg?Ngb(this,a,b):(T8(this),this.Gg=a,this.Hg=b,U8(this,a,b),this.Jg=!0);return!1}Mg(a,b){U8(this,a,b);return!1}Pg(a,b){if(this.Jg)return!1;
this.set("draggingCursor",this.Qg);this.set("enablePanning",!0);T8(this);this.Gg=a;this.Hg=b;U8(this,a,b);return!0}Ng(a,b){if(this.Jg)return!1;U8(this,a,b);return!0}Og(a,b){if(this.Jg)return!1;this.set("draggingCursor","");this.set("enablePanning",!1);Ngb(this,a,b);return!0}};var chb=class{CA(a){return new _.Zm(a)}Ez(a,b,c){a.set("center",b);var d=0;const e=a.get("map");e&&c&&(d=e.__gm.get("baseMapType"),d=_.nF(b,c,d&&d.radius));a.set("radius",d)}kB(){return"circle"}hB(){return"circlecomplete"}};var dhb=class extends Z8{constructor(a){super();this.cursor=a;this.Fg=null}Rg(a){Ogb(this);this.Fg.setPosition(a);return{latLng:a,overlay:this.Fg}}active_changed(){this.get("active")&&this.set("draggableCursor",this.cursor)}Lg(a){const b=this.get("map");Ogb(this);this.Fg.setPosition(a);this.Fg.setMap(b);_.Ok(this,"overlaycomplete",{type:"marker",overlay:this.Fg});_.Ok(this,"markercomplete",this.Fg);_.Il(b,"DMmar");_.Gl(b,147920);this.Fg=null;return!1}};var ehb=class extends Z8{constructor(a,b,c,d){super();this.Gg=a;this.Hg=b;this.Jg=c;this.Kg=d+1E-6;this.Fg=null;this.Vg=new _.Pl(0,0);this.Qg=new _.Pl(0,0);this.Tg=new _.Pl(0,0)}Rg(a){this.Fg&&this.Fg.polyline||W8(this);return{latLng:a,overlay:this.Fg.uy||this.Fg.polyline}}active_changed(){this.get("active")?this.set("draggableCursor",this.Hg):this.Fg&&this.Fg.polyline&&(null===this.get("drawingMode")?X8(this):(this.Fg.polyline.unbind("map"),this.Fg.polyline.set("map",null),this.Fg.en.unbind("map"),
this.Fg.en.set("map",null),this.Gg&&this.Fg.uy.set("map",null),this.Fg=null))}Lg(a){if(!a)return!1;this.Fg?Qgb(this,a):(W8(this),Y8(this,a));return!1}Sg(){this.Fg&&1<this.Fg.polyline.getPath().getLength()&&X8(this);return!1}Mg(a){let b=a;this.Fg&&a&&(a=Pgb(this,a),this.set("draggableCursor",a?"pointer":this.Hg),a&&(b=a.latLng),this.Fg.en.set("freeVertexPosition",b));return!1}Pg(a){return a?this.get("drawPolysWithDrag")?(this.Fg||W8(this),this.Fg.polyline.getPath().getLength()||Y8(this,a),this.set("draggingCursor",
this.Hg),!0):!1:!1}Ng(a){return this.Fg&&this.get("drawPolysWithDrag")?(this.Fg.en.set("freeVertexPosition",a),!0):!1}Og(a){return a?this.get("drawPolysWithDrag")?(this.Fg&&(Qgb(this,a),this.set("draggingCursor","")),this.Fg&&this.Fg.en.set("freeVertexPosition",null),!0):!1:!1}drawPolysWithDrag_changed(){V8(this)}panWhileDrawing_changed(){V8(this)}};var fhb=class{CA(a){return new _.Io(a)}Ez(a,b,c,d=!1){c=c||b;let e=c.lat(),f=b.lat();b.lat()<c.lat()&&(e=b.lat(),f=c.lat());let g=b.lng(),h=c.lng();d&&(g=c.lng(),h=b.lng());b=_.sl(e,g,f,h);a.set("bounds",b)}kB(){return"rectangle"}hB(){return"rectanglecomplete"}};var ghb=class extends _.Sk{constructor(){super();const a=this.Gg=Tgb(this);this.Qg=Ugb(this);var b="url("+_.zB+"crosshair.cur)";_.In.Fg&&(b+=" 7 7");b=`${b}, crosshair`;var c=Rgb();this.Kg=6+(_.Nu()?9:0);this.Hg={circle:new bhb(new chb,b,c),marker:new dhb(b),polygon:new ehb(!0,b,c,this.Kg),polyline:new ehb(!1,b,c,this.Kg),rectangle:new bhb(new fhb,b,c)};b=Vgb(this);for(const d in this.Hg)c=this.Hg[d],c.bindTo("map",this),c.bindTo("drawingMode",this),c.bindTo("panWhileDrawing",this),c.bindTo("draggingCursor",
a),c.bindTo("draggableCursor",b),c.bindTo("enablePanning",a,"panAtEdge"),c.bindTo("options",this,`${d}Options`),_.Nk(c,"overlaycomplete",this),_.Nk(c,`${d}complete`,this);this.Hg.polygon.bindTo("drawPolysWithDrag",this);this.Hg.polyline.bindTo("drawPolysWithDrag",this);this.Fg=null;this.Sg=[];this.Jg=this.Lg=null;this.Og=0;this.Rg=this.Ng=null;this.Mg=this.Pg=void 0}map_changed(){const a=this.get("map"),b=this.Qg,c=this.Gg;if(a){const d=a.__gm;d.Gg.then(({lh:e})=>{this.Mg=e});this.bindTo("mouseEventTarget",
d);b.bindTo("pegmanDragging",d);c.bindTo("draggable",a);c.bindTo("scrollwheel",a);this.Lg=_.Nk(c,"panbynow",d)}else this.unbind("mouseEventTarget"),this.set("mouseEventTarget",null),b.unbind("pegmanDragging"),c.unbind("draggable"),c.unbind("scrollwheel"),this.Lg&&(_.Ck(this.Lg),this.Lg=null)}mouseEventTarget_changed(){const a=["panes","pixelBounds"];var b=this.Gg;_.Qb(a,b.unbind,b);b=this.Sg;_.Qb(b,_.Ck);b.length=0;if(this.get("mouseEventTarget")){b=this.Gg;const c=this.get("map");_.DG(b,a,c.__gm)}}drawingMode_changed(){this.Fg&&
this.Fg.set("active",!1);this.Gg.set("panAtEdge",!1);const a=this.get("drawingMode");(this.Fg=this.Hg[a])&&this.Fg.set("active",!0)}};var ihb=class extends _.Sk{constructor(a){super();this.Bh=new _.qn(()=>{this.Fg&&(this.Hg.pl(this.Fg),_.ro(this.Fg),this.Fg=null,this.Gg.unbindAll(),this.Gg=null);if((this.Hg=this.get("layoutManager"))&&0!=this.get("drawingControl")){const c=this.get("drawingControlOptions")||{},d=c.drawingModes||hhb,e=document.createElement("div");_.aN(e);e.style.margin=_.bu(5);_.Ju(e,10);this.Fg=e;this.Gg=new ahb(this.Fg,d);this.Gg.bindTo("drawingMode",this);this.Hg.addElement(this.Fg,c.position||14,!1,.25)}},0);
const b=new ghb;b.bindTo("map",a);b.bindTo("drawingMode",a);b.bindTo("panWhileDrawing",a);b.bindTo("markerOptions",a);b.bindTo("polygonOptions",a);b.bindTo("polylineOptions",a);b.bindTo("rectangleOptions",a);b.bindTo("circleOptions",a);b.bindTo("drawPolysWithDrag",a);_.Nk(b,"overlaycomplete",a);_.Nk(b,"circlecomplete",a);_.Nk(b,"markercomplete",a);_.Nk(b,"polygoncomplete",a);_.Nk(b,"polylinecomplete",a);_.Nk(b,"rectanglecomplete",a);this.bindTo("map",a);this.bindTo("drawingControl",a);this.bindTo("drawingControlOptions",
a);this.bindTo("drawingMode",a);this.set("snappingCallback",a.get("snappingCallback"));a.bindTo("snappingCallback",this);b.bindTo("snappingCallback",this);_.Il(a.get("map"),"DMnew");_.Gl(a.get("map"),147919)}map_changed(){var a=this.get("map");a?(a=a.__gm,this.bindTo("layoutManager",a),a.set("snappingCallback",this.get("snappingCallback")),this.bindTo("snappingCallback",a)):(this.unbind("layoutManager"),this.set("layoutManager",null),this.unbind("snappingCallback"))}layoutManager_changed(){_.rn(this.Bh)}drawingControl_changed(){_.rn(this.Bh)}drawingControlOptions_changed(){_.rn(this.Bh)}},
hhb=["marker","polyline","rectangle","circle","polygon"];_.sk("drawing_impl",{gD:ihb,eG:function(a){const b=new _.Sk,c=new _.GL(["dataDrawingMode"],"drawingManagerMode",Wgb);c.bindTo("dataDrawingMode",a,"drawingMode");const d=new _.GL(["styleOrStylingFunction"],"style",function(g){return"function"===typeof g?g(new _.Qk):g});d.bindTo("styleOrStylingFunction",a,"style");const e=new _.GL(["controls","controlPosition"],"drawingControlOptions",function(g,h){return{drawingModes:_.hj(g,Wgb),position:h}});e.bindTo("controls",a);e.bindTo("controlPosition",a);const f=
new _.GL(["controls"],"drawingControl",g=>!!g);f.bindTo("controls",a);b.bindTo("map",a);b.bindTo("drawingMode",c,"drawingManagerMode");b.bindTo("markerOptions",d,"style");b.bindTo("polylineOptions",d,"style");b.bindTo("polygonOptions",d,"style");b.bindTo("drawingControlOptions",e);b.bindTo("drawingControl",f);_.Ak(b,"overlaycomplete",function(g){g=g.overlay;var h=_.Xxa([g]);const l=a.get("featureFactory");h=l?l(h):new _.Qk({geometry:h});a.add(h);g.set("map",null)});new ihb(b);_.Lk(a,"map_changed",
function(){const g=a.get("map");g&&(_.Il(g,"Le"),_.Gl(g,148236))})}});});
